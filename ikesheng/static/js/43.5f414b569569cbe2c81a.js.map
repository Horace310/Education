{"version":3,"sources":["webpack:///src/views/homeCommon/notification/myMessage.vue","webpack:///./src/views/homeCommon/notification/myMessage.vue?752d","webpack:///./src/views/homeCommon/notification/myMessage.vue"],"names":["myMessage","data","_this","this","checkPhone","rule","value","callback","Error","reg","console","log","test","flag","show","showt","count","count1","t","t1","text","ruleForm2","oldpass","pass","checkPass","phone","code","ruleForm1","ruleForm","oldpaw","paw","checkPaw","rules","required","message","trigger","validator","$refs","validateField","rules2","rules1","created","queryHasbindMobile","methods","getAuthCode","e","_this2","setInterval","res","clearInterval","$post","mobile","then","$message","showClose","type","getAuthCode1","_this3","getCode1","formName","_this4","validMessage","phones","getCode","_this5","_this6","response","submitFormpas","_this7","validate","valid","loadingObj","$loading","lock","spinner","background","target","document","querySelector","formData","newPwd","oldPwd","close","resetFields","submitForms","_this8","verificationCode","submitForm","_this9","pwd","notification_myMessage","render","_vm","_h","$createElement","_c","_self","staticClass","directives","name","rawName","expression","_v","ref","attrs","model","status-icon","label-width","label","prop","clearable","auto-complete","$$v","$set","on","click","$event","staticStyle","margin-top","_s","maxlength","input","validNumber","placeholder","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/43.5f414b569569cbe2c81a.js","sourcesContent":["<template>\n  <div class=\"setting bf\">\n    <div class=\"setting-con bx\">\n      <div class=\"changePassword\" v-show=\"show\">\n        <p class=\"tit ft18 col39a myColor\">修改密码</p>\n        <el-form :model=\"ruleForm\" status-icon :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm\">\n          <el-form-item label=\"原密码\" prop=\"oldpaw\">\n            <el-input type=\"password\" clearable v-model=\"ruleForm.oldpaw\" auto-complete=\"off\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"密码\" prop=\"paw\">\n            <el-input type=\"password\" clearable v-model=\"ruleForm.paw\" auto-complete=\"off\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"确认密码\" prop=\"checkPaw\">\n            <el-input type=\"password\" clearable v-model=\"ruleForm.checkPaw\" auto-complete=\"off\"></el-input>\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\"  class=\"apply\" @click=\"submitFormpas('ruleForm')\">确定</el-button>\n          </el-form-item>\n        </el-form>\n        <el-form :model=\"ruleForm1\" status-icon :rules=\"rules1\" ref=\"ruleForm1\" label-width=\"100px\" class=\"demo-ruleForm\">\n          <p class=\"tit ft18 myColor col39a\" style=\"margin-top: 50px;\">{{text}}</p>\n          <el-form-item label=\"原手机号码\" prop=\"phone\">\n            <el-input type=\"text\" maxlength=\"11\" clearable v-model=\"ruleForm1.phone\" @input=\"e=>ruleForm1.phone=validNumber(e)\" auto-complete=\"off\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"输入验证码\" prop=\"code\" class=\"yzm\">\n            <el-input v-model=\"ruleForm1.code\" maxlength=\"6\" @input=\"e=>ruleForm1.code=validNumber(e)\" clearable placeholder=\"验证码\"></el-input>\n            <el-button type=\"text\" @click=\"getCode1('phone')\" >{{count1==60?'获取验证码':'重新获取('+count1+')'}}</el-button>\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\"  class=\"apply\" @click=\"submitForms('ruleForm1')\">确定</el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n      <div class=\"changePassword\"   v-show=\"showt\">\n        <p class=\"tit ft18 myColor col39a\" >绑定手机号</p>\n        <el-form :model=\"ruleForm2\" status-icon :rules=\"rules2\" ref=\"ruleForm2\" label-width=\"100px\" class=\"demo-ruleForm\">\n          <el-form-item label=\"新手机号码\" prop=\"phone\">\n            <el-input type=\"text\" clearable v-model=\"ruleForm2.phone\" maxlength=\"11\" @input=\"e=>ruleForm2.phone=validNumber(e)\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"输入验证码\" prop=\"code\" class=\"yzm\">\n            <el-input v-model=\"ruleForm2.code\" maxlength=\"6\" @input=\"e=>ruleForm2.code=validNumber(e)\" clearable placeholder=\"验证码\"></el-input>\n            <el-button type=\"text\" @click=\"getCode('phone')\" >{{count==60?'获取验证码':'重新获取('+count+')'}}</el-button>\n          </el-form-item>\n          <el-form-item label=\"密码\" prop=\"pass\">\n            <el-input type=\"password\" clearable v-model=\"ruleForm2.pass\" auto-complete=\"off\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"确认密码\" prop=\"checkPass\">\n            <el-input type=\"password\" clearable v-model=\"ruleForm2.checkPass\" auto-complete=\"off\"></el-input>\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\"  class=\"apply\" @click=\"submitForm('ruleForm2')\">确定</el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    data() {\n      var checkPhone = (rule, value, callback) => {\n        if (!value) {\n          return callback(new Error('手机号不能为空'));\n        } else {\n          const reg = /^1[3|4|5|7|8][0-9]\\d{8}$/\n          console.log(reg.test(value));\n          if (reg.test(value)) {\n            callback();\n          } else {\n            return callback(new Error('请输入正确的手机号'));\n          }\n        }\n      };\n      var validatePass = (rule, value, callback) => {\n        if (value === '') {\n          callback(new Error('请输入密码'));\n        } else {\n          if (this.ruleForm2.checkPass !== '') {\n            this.$refs.ruleForm2.validateField('checkPass');\n          }\n          callback();\n        }\n      };\n      var validatePass1 = (rule, value, callback) => {\n        if (value === '') {\n          callback(new Error('请输入密码'));\n        } else {\n          if (this.ruleForm.checkPaw !== '') {\n            this.$refs.ruleForm.validateField('checkPaw');\n          }\n          callback();\n        }\n      };\n      var validatePass12 = (rule, value, callback) => {\n        if (value === '') {\n          callback(new Error('请再次输入密码'));\n        } else if (value !== this.ruleForm.paw) {\n          callback(new Error('两次输入密码不一致!'));\n        } else {\n          callback();\n        }\n      };\n      var validatePass2 = (rule, value, callback) => {\n        if (value === '') {\n          callback(new Error('请再次输入密码'));\n        } else if (value !== this.ruleForm2.pass) {\n          callback(new Error('两次输入密码不一致!'));\n        } else {\n          callback();\n        }\n      };\n      return {\n        flag:1,//(1-解绑 2-加绑)\n        show:true,\n        showt:false,\n        count:60,\n        count1:60,\n        t:null,\n        t1:null,\n        text:'解绑手机号',\n        ruleForm2: {\n          oldpass:'',\n          pass: '',\n          checkPass: '',\n          phone:'',\n          code:''\n        },\n        ruleForm1: {\n          phone:'',\n          code:''\n        },\n        ruleForm: {\n          oldpaw:'',\n          paw: '',\n          checkPaw: ''\n        },\n        rules: {\n          oldpaw: [\n            {required: true, message: '请输入原密码', trigger: 'blur'}\n          ],\n          paw: [\n            { validator: validatePass1, trigger: 'blur' }\n          ],\n          checkPaw: [\n            { validator: validatePass12, trigger: 'blur' }\n          ]\n        },\n        rules2: {\n          phone: [\n            {required: true,validator: checkPhone, trigger: 'blur'}\n          ],\n          oldpass: [\n            {required: true, message: '请输入原密码', trigger: 'blur'}\n          ],\n          code: [\n            {required: true, message: '请输入验证码', trigger: 'blur'}\n          ],\n          pass: [\n            { validator: validatePass, trigger: 'blur' }\n          ],\n          checkPass: [\n            { validator: validatePass2, trigger: 'blur' }\n          ]\n        },\n        rules1: {\n          phone: [\n            {required: true,validator: checkPhone, trigger: 'blur'}\n          ],\n          code: [\n            {required: true, message: '请输入验证码', trigger: 'blur'}\n          ]\n        }\n      };\n    },\n    created(){\n      //判断是否绑定手机号\n      this.queryHasbindMobile();\n      // this.$refs[\"ruleForm\"].resetFields();\n      // this.$refs[\"ruleForm1\"].resetFields();\n      // this.$refs[\"ruleForm2\"].resetFields();\n    },\n    methods: {\n      getAuthCode(e){\n        if(this.count==60){\n          this.count--;\n          this.t = setInterval(res=>{\n            this.count--;\n            if(this.count==0){\n              this.count = 60;\n              clearInterval(this.t);\n            }\n          },1000)\n            this.$post(\"/sso/GetVerificationVode.do\",{mobile:e}).then(res=>{\n              if(res.code==\"5000\"){\n            //    console.log(res);\n                this.$message({\n                    showClose: true,\n                  message:'发送成功!',\n                  type:\"success\"\n                })\n              }\n            })\n        }\n      },\n      getAuthCode1(e){\n        if(this.count1==60){\n          this.count1--;\n          this.t1 = setInterval(res=>{\n            this.count1--;\n            if(this.count1==0){\n              this.count1 = 60;\n              clearInterval(this.t1);\n            }\n          },1000)\n            this.$post(\"/sso/GetVerificationVode.do\",{mobile:e}).then(res=>{\n              if(res.code==\"5000\"){\n               // console.log(res);\n                this.$message({\n                    showClose: true,\n                  message:'发送成功!',\n                  type:\"success\"\n                })\n              }\n            })\n        }\n      },\n      //验证码\n      getCode1(formName){\n        this.$refs.ruleForm1.validateField('phone',(validMessage)=>{\n          if(!validMessage){\n            let phones = this.ruleForm1.phone;\n            this.getAuthCode1(phones)\n          }\n        })\n      },\n      getCode(formName){\n        this.$refs.ruleForm2.validateField('phone',(validMessage)=>{\n          if(!validMessage){\n            let phones = this.ruleForm2.phone;\n            this.getAuthCode(phones);\n          }\n        })\n      },\n      //判断是否绑定手机号\n      queryHasbindMobile(){\n        this.$post('/sso/queryHasbindMobile.do')\n          .then((response) => {\n            //console.log(response)\n            if (response.code == \"5000\") {\n              //（true-已绑定 false-未绑定 ）\n              if(response.data==true){\n                this.show=true;\n                this.showt=false;\n              }else{\n                this.show=false;\n                this.showt=true;\n              }\n            }\n          })\n      },\n      //密码\n      submitFormpas(formName) {\n        this.$refs[formName].validate((valid) => {\n          if (valid) {\n            const loadingObj = this.$loading({\n              lock: true,\n              text: '提交中...',\n              spinner: 'el-icon-loading',\n              background: 'rgba(0, 0, 0, 0.7)',\n              target: document.querySelector('.submit-test-dialog')\n            });\n            let formData=this.ruleForm;\n            let data = {\n              newPwd:formData.paw,\n              oldPwd:formData.oldpaw,\n            };\n            this.$post('/sso/updateUserInfo.do',data\n            )\n              .then((response) => {\n                loadingObj.close()\n                if (response.code == \"5000\") {\n                  this.$message({\n                      showClose: true,\n                    message:'修改成功!',\n                    type:'success'\n                  });\n                  this.$refs[\"ruleForm\"].resetFields();\n                  // this.ruleForm2.code = '';\n                  this.flag=2;\n                  if(this.flag=1){\n                    this.text=\"解绑手机号\"\n                  }else if( this.flag=2){\n                    this.text=\"绑定手机号\"\n                  }\n\n                }\n                else{\n                  this.$message({\n                      showClose: true,\n                    message:response.message,\n                    type:'error'\n                  })\n                }\n              })\n          } else {\n         //   console.log('error submit!!');\n            return false;\n          }\n        });\n      },\n      submitForms(formName) {\n        this.$refs[formName].validate((valid) => {\n          if (valid) {\n            const loadingObj = this.$loading({\n              lock: true,\n              text: '提交中...',\n              spinner: 'el-icon-loading',\n              background: 'rgba(0, 0, 0, 0.7)',\n              target: document.querySelector('.submit-test-dialog')\n            });\n            let formData=this.ruleForm1;\n            let data = {\n              verificationCode:formData.code,\n              mobile:formData.phone,\n              flag:this.flag//(1-解绑 2-加绑)\n            };\n            this.$post('/sso/updateUserInfo.do',data\n            )\n              .then((response) => {\n                loadingObj.close()\n                if (response.code == \"5000\") {\n                  this.$message({\n                      showClose: true,\n                    message:'解绑成功!',\n                    type:'success'\n                  });\n                  this.count1 = 60;\n                  clearInterval(this.t1)                  \n                  this.$refs[\"ruleForm1\"].resetFields();\n                  this.queryHasbindMobile();\n\n                }\n                else{\n                  this.$message({\n                      showClose: true,\n                    message:response.message,\n                    type:'error'\n                  })\n                }\n              })\n          } else {\n        //    console.log('error submit!!');\n            return false;\n          }\n        });\n      },\n      submitForm(formName) {\n        this.$refs[formName].validate((valid) => {\n          if (valid) {\n            const loadingObj = this.$loading({\n              lock: true,\n              text: '提交中...',\n              spinner: 'el-icon-loading',\n              background: 'rgba(0, 0, 0, 0.7)',\n              target: document.querySelector('.submit-test-dialog')\n            });\n            let formData=this.ruleForm2;\n            let data = {\n              mobile:formData.phone,\n              pwd:formData.pass,\n              verificationCode:formData.code,\n            };\n            this.$post('/sso/bindMobile.do',data\n            )\n              .then((response) => {\n                loadingObj.close()\n                if (response.code == \"5000\") {\n                  this.$message({\n                      showClose: true,\n                    message:'绑定成功!',\n                    type:'success'\n                  })\n                  this.count = 60;\n                  clearInterval(this.t)\n                  this.$refs[\"ruleForm2\"].resetFields();\n                  this.queryHasbindMobile();\n                }\n                else{\n                  this.$message({\n                      showClose: true,\n                    message:response.message,\n                    type:'error'\n                  })\n                }\n              })\n          } else {\n            console.log('error submit!!');\n            return false;\n          }\n        });\n      },\n\n    }\n  }\n</script>\n\n<style scoped lang=\"less\">\n  .setting{\n    .setting-con{\n      padding: 40px 50px 80px 0px;\n      .myColor{\n        color: #ff9339;\n      }\n      .changePassword{\n        height: 600px;\n        .tit{\n          margin-bottom: 30px;\n        }\n      }\n    }\n  }\n</style>\n<style>\n  .setting .el-input__inner, .setting .el-input{width: 300px;}\n  .setting .yzm .el-input__inner{\n    width: 190px;\n  }\n  .setting .yzm .el-input{\n    width: 190px;\n  }\n  .setting .yzm .el-button{\n    width: 100px;\n  }\n  .setting .apply.el-button{\n    width: 300px;\n    height: 48px;\n    background-color: #f25c29;\n    border: none;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/homeCommon/notification/myMessage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"setting bf\"},[_c('div',{staticClass:\"setting-con bx\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],staticClass:\"changePassword\"},[_c('p',{staticClass:\"tit ft18 col39a myColor\"},[_vm._v(\"修改密码\")]),_vm._v(\" \"),_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm,\"status-icon\":\"\",\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"原密码\",\"prop\":\"oldpaw\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"clearable\":\"\",\"auto-complete\":\"off\"},model:{value:(_vm.ruleForm.oldpaw),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"oldpaw\", $$v)},expression:\"ruleForm.oldpaw\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"paw\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"clearable\":\"\",\"auto-complete\":\"off\"},model:{value:(_vm.ruleForm.paw),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"paw\", $$v)},expression:\"ruleForm.paw\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"确认密码\",\"prop\":\"checkPaw\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"clearable\":\"\",\"auto-complete\":\"off\"},model:{value:(_vm.ruleForm.checkPaw),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"checkPaw\", $$v)},expression:\"ruleForm.checkPaw\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{staticClass:\"apply\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitFormpas('ruleForm')}}},[_vm._v(\"确定\")])],1)],1),_vm._v(\" \"),_c('el-form',{ref:\"ruleForm1\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm1,\"status-icon\":\"\",\"rules\":_vm.rules1,\"label-width\":\"100px\"}},[_c('p',{staticClass:\"tit ft18 myColor col39a\",staticStyle:{\"margin-top\":\"50px\"}},[_vm._v(_vm._s(_vm.text))]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"原手机号码\",\"prop\":\"phone\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"maxlength\":\"11\",\"clearable\":\"\",\"auto-complete\":\"off\"},on:{\"input\":function (e){ return _vm.ruleForm1.phone=_vm.validNumber(e); }},model:{value:(_vm.ruleForm1.phone),callback:function ($$v) {_vm.$set(_vm.ruleForm1, \"phone\", $$v)},expression:\"ruleForm1.phone\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"yzm\",attrs:{\"label\":\"输入验证码\",\"prop\":\"code\"}},[_c('el-input',{attrs:{\"maxlength\":\"6\",\"clearable\":\"\",\"placeholder\":\"验证码\"},on:{\"input\":function (e){ return _vm.ruleForm1.code=_vm.validNumber(e); }},model:{value:(_vm.ruleForm1.code),callback:function ($$v) {_vm.$set(_vm.ruleForm1, \"code\", $$v)},expression:\"ruleForm1.code\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.getCode1('phone')}}},[_vm._v(_vm._s(_vm.count1==60?'获取验证码':'重新获取('+_vm.count1+')'))])],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{staticClass:\"apply\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForms('ruleForm1')}}},[_vm._v(\"确定\")])],1)],1)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showt),expression:\"showt\"}],staticClass:\"changePassword\"},[_c('p',{staticClass:\"tit ft18 myColor col39a\"},[_vm._v(\"绑定手机号\")]),_vm._v(\" \"),_c('el-form',{ref:\"ruleForm2\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm2,\"status-icon\":\"\",\"rules\":_vm.rules2,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"新手机号码\",\"prop\":\"phone\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"clearable\":\"\",\"maxlength\":\"11\"},on:{\"input\":function (e){ return _vm.ruleForm2.phone=_vm.validNumber(e); }},model:{value:(_vm.ruleForm2.phone),callback:function ($$v) {_vm.$set(_vm.ruleForm2, \"phone\", $$v)},expression:\"ruleForm2.phone\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"yzm\",attrs:{\"label\":\"输入验证码\",\"prop\":\"code\"}},[_c('el-input',{attrs:{\"maxlength\":\"6\",\"clearable\":\"\",\"placeholder\":\"验证码\"},on:{\"input\":function (e){ return _vm.ruleForm2.code=_vm.validNumber(e); }},model:{value:(_vm.ruleForm2.code),callback:function ($$v) {_vm.$set(_vm.ruleForm2, \"code\", $$v)},expression:\"ruleForm2.code\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.getCode('phone')}}},[_vm._v(_vm._s(_vm.count==60?'获取验证码':'重新获取('+_vm.count+')'))])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"pass\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"clearable\":\"\",\"auto-complete\":\"off\"},model:{value:(_vm.ruleForm2.pass),callback:function ($$v) {_vm.$set(_vm.ruleForm2, \"pass\", $$v)},expression:\"ruleForm2.pass\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"确认密码\",\"prop\":\"checkPass\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"clearable\":\"\",\"auto-complete\":\"off\"},model:{value:(_vm.ruleForm2.checkPass),callback:function ($$v) {_vm.$set(_vm.ruleForm2, \"checkPass\", $$v)},expression:\"ruleForm2.checkPass\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{staticClass:\"apply\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('ruleForm2')}}},[_vm._v(\"确定\")])],1)],1)],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4280a625\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/homeCommon/notification/myMessage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4280a625\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":54}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./myMessage.vue\")\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4280a625\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":54}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./myMessage.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./myMessage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./myMessage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4280a625\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./myMessage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4280a625\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/homeCommon/notification/myMessage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}