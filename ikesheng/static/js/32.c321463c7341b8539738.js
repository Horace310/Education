webpackJsonp([32],{MFRk:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={name:"createClass",data:function(){return{checked:!0,createClass:[],andSubjectList:[],ruleForm2:{name:"",subjectId:"",gradeIds:""},rules2:{name:[{required:!0,message:"请输入班级名称",trigger:"blur"},{min:2,max:8,message:"长度在 2 到 8 个字符",trigger:"blur"}],gradeIds:[{required:!0,message:"请选择年级",trigger:"change"}],subjectId:[{required:!0,message:"请选择科目",trigger:"change"}]},gradeId:"",activeIndex:""}},created:function(){this.queryGradeAndSubjectList()},methods:{currentSel:function(e){this.gradeId=e.gradeId,this.andSubjectList=e.list,console.log(e,"55")},queryGradeAndSubjectList:function(){var e=this;this.$post("/likework/queryGradeAndSubjectList.do").then(function(t){"5000"==t.code&&(e.createClass=t.data)})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;var r=t.$loading({lock:!0,text:"提交中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)",target:document.querySelector(".submit-test-dialog")});t.$post("/likework/createClass.do",{subjectId:t.ruleForm2.subjectId,gradeId:t.gradeId,name:t.ruleForm2.name}).then(function(e){"5000"==e.code?(r.close(),t.$message({showClose:!0,message:"创建班级成功",type:"success"}),setTimeout(function(){t.$router.push({path:"/homeCommon/classManagement/invitationCode",query:{id:e.data}})},1e3)):(r.close(),t.$message({showClose:!0,message:e.message,type:"error"}))})})}}},s={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:" mt72  bx"},[r("div",{staticClass:"nav"},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/homeCommon/classManagement"}}},[e._v("班级管理")]),e._v(" "),r("el-breadcrumb-item",[e._v("创建班级")])],1)],1),e._v(" "),r("div",{staticClass:"createClassa  bf bx"},[r("p",{staticClass:"tit ft20"},[e._v("\n    创建班级\n  ")]),e._v(" "),r("div",{staticClass:"con"},[r("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm2,"status-icon":"",rules:e.rules2,"label-width":"100px"}},[r("el-form-item",{staticClass:"pas_icon inp",attrs:{label:"班级名称",prop:"name"}},[r("el-input",{attrs:{placeholder:"请输入班级名称"},model:{value:e.ruleForm2.name,callback:function(t){e.$set(e.ruleForm2,"name",e._n(t))},expression:"ruleForm2.name"}})],1),e._v(" "),r("el-form-item",{staticClass:"sec",attrs:{label:"班级属性",prop:"gradeIds"}},[r("el-select",{attrs:{placeholder:"请选择年级","value-key":"gradeId"},on:{change:e.currentSel},model:{value:e.ruleForm2.gradeIds,callback:function(t){e.$set(e.ruleForm2,"gradeIds",t)},expression:"ruleForm2.gradeIds"}},e._l(e.createClass,function(e){return r("el-option",{key:e.gradeId,attrs:{label:e.gradeName,value:e}})}),1)],1),e._v(" "),r("el-form-item",{staticClass:"sec",attrs:{label:"",prop:"subjectId"}},[r("el-select",{attrs:{placeholder:"请选择科目"},model:{value:e.ruleForm2.subjectId,callback:function(t){e.$set(e.ruleForm2,"subjectId",t)},expression:"ruleForm2.subjectId"}},e._l(e.andSubjectList,function(e,t){return r("el-option",{key:e.id,attrs:{label:e.subjectName,value:e.id}})}),1)],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm2")}}},[e._v("确定")])],1)],1)],1)])])},staticRenderFns:[]};var l=r("VU/8")(a,s,!1,function(e){r("sOGd"),r("Z7vK")},"data-v-eab53928",null);t.default=l.exports},Z7vK:function(e,t){},sOGd:function(e,t){}});
//# sourceMappingURL=32.c321463c7341b8539738.js.map