webpackJsonp([63],{"X+R7":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("A0zz"),a={components:{Subjects:i("Iy4B").a,creatClass:creatClass},filters:{levels:function(e){return console.log(e),1==e?"初级":2==e?"中级":"高级"},types:function(e){return 1==e?"结构化作业":"非结构化作业"}},data:function(){return{centerDialogVisible:!1,value1:0,value:[],max:9999,options:[],audio:{currentTime:0,maxTime:0,playing:!1,muted:!1,speed:1,waiting:!0,preload:"auto"},audioUrl:"",tabsNum:0,btns:["导入试题","图片传题","平台题库"],question:"../../../../static/images/picture.jpg",radio:"1",test:"1.（2019•海南模拟）2018年6月3日，海南宣布设立海南自贸区海口江东新区，总面积约298000000平方米．数据298000000用科学记数法表示为（　　）",answerNum:["A","B","C","D"],number:"1145740",answer:[{text:"298x10"},{text:"29.8x10"},{text:"2.98x10"},{text:"0.298x10"}],answerindex:0,difficulty:[{name:"解释性"},{name:"应用性"},{name:"拓展性"},{name:"自定义"}],difficultyindex:0,time:[{name:"宽松"},{name:"合适"},{name:"超时"},{name:"自定义"}],timeindex:0,target:[{name:"但一知识目标"},{name:"多知识目标"},{name:"自定义"}],targetindex:0,checked:1,t:null,code:"",title:"",homeworkId:"",homeworkName:"",questionList:[],endTime:"",classlist:[],solveProblem:"",expectTime:"",knowledge:"",type:"",types:[],level:"",order:"",update:this.$route.query.update}},created:function(){this.homeworkId=this.$route.query.homeworkId,this.title=this.$route.query.title.split(","),this.getHomework(),this.QuestionType(),this.queryCreateClass()},methods:{changeValue:function(e){console.log(e),console.log(this.value)},queryCreateClass:function(e){var t=this;this.$post("/likework/queryCreateClass.do").then(function(e){"5000"==e.code&&(t.options=e.data)})},submitFormq:function(e){this.centerDialogVisible=e,this.queryCreateClass()},closeDialog:function(e){this.centerDialogVisible=e},callOfa:function(e){this.centerDialogVisible=e},createClassed:function(){this.centerDialogVisible=!0},againEdit:function(e){this.$router.push({path:"/homeCommon/questions",query:{homeworkId:this.$route.query.homeworkId,title:this.$route.query.title,subjectId:this.$route.query.subjectId,update:2}})},confirm:function(e){var t=this;if(1==this.update){var i={homeworkId:this.homeworkId};this.$post("/likework/publishHomeworkById.do",i).then(function(e){"5000"==e.code&&t.$message({message:"发布成功!",type:"success"})})}else{var s={id:this.homeworkId,classIdList:this.value.join(":"),homeworkName:this.homeworkName,solveProblem:this.solveProblem,knowledge:this.knowledge,endTime:this.endTime,expectTime:this.expectTime,level:this.level,type:this.type};this.$post("/likework/updateClassHomework.do",s).then(function(e){"5000"==e.code&&t.$message.success("更新成功!")})}},getHomework:function(){var e=this,t={homeworkId:this.homeworkId};this.$post("/likework/queryHomeworkById.do",t).then(function(t){if("5000"==t.code){console.log(t);var i=t.data;e.homeworkId=i.id,e.homeworkName=i.homeworkName,e.endTime=i.endTime,e.knowledge=i.knowledge;var s=[],a=[];i.classList.forEach(function(e,t){s.push(e.id),a.push(e.name)}),e.value=s,e.classId=s.join(":"),e.type=String(t.data.type),e.level=String(t.data.level),e.expectTime=i.expectTime,e.solveProblem=i.solveProblem,e.code=i.code,i.questionList.forEach(function(t,i){if(t.t=null,t.recorder=null,t.value="",t.checked=1,null===t.property)return t.difficultyindex=0,t.timeindex=0,t.targetindex=0,t.QuestionTypeindex=0,!1;t.propertys=JSON.parse(t.property),e.time.forEach(function(e,i){t.propertys["时间"]==e.name&&(t.timeindex=i)}),e.target.forEach(function(e,i){t.propertys["目标"]==e.name&&(t.targetindex=i)}),e.difficulty.forEach(function(e,i){t.propertys["难度"]==e.name&&(t.difficultyindex=i)}),console.log(t)}),e.questionList=i.questionList,e.order=i.videoList}})},QuestionType:function(e){var t=this;this.$post("/likework/queryQuestionTypeSelect.do").then(function(e){"5000"==e.code&&(t.types=e.data)})},tabs:function(e){this.tabsNum=e},chooseTypes:function(e,t){e.type=t},chooseDifficulty:function(e,t){e.difficultyindex=t},chooseTime:function(e,t){e.timeindex=t},chooseTarget:function(e,t){console.log(e),e.targetindex=t},release:function(e){this.$router.push({path:"/home/questions/release"})},deleteVoice:function(e,t){e.value=0},getChecked:function(e,t){0==e.checked?(e.checked=1,clearInterval(e.t)):(e.value=0,this.chooseVoice())},chooseVoice:function(e,t){var i=this;if(0==e.checked)return console.log(e.checked),!1;e.sound="",s.a.get(function(t){t&&(e.recorder=t,e.t=setInterval(function(){e.value<i.max?(e.value++,e.checked=0):(e.checked=1,clearInterval(e.t))},1e3))})}}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"printMe"}},[i("div",{staticClass:"main mt72"},[i("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/homeCommon"}}},[e._v("首页")]),e._v(" "),i("el-breadcrumb-item",{attrs:{to:{path:"/homeCommon/questions?homeworkId="+this.$route.query.homeworkId+"&title="+this.$route.query.title+"&subjectId="+this.$route.query.subjectId+"&update=2"}}},[e._v("作业模板")]),e._v(" "),i("el-breadcrumb-item",[e._v("发布试题")])],1),e._v(" "),i("div",{staticClass:"formwork"},[i("img",{staticClass:"code",attrs:{src:e.code,alt:""}}),e._v(" "),i("h3",{staticClass:"title"},[e._v("作业模板")]),e._v(" "),i("p",{staticClass:"work_name"},[i("span",[e._v(e._s(e.title[0])+"-")]),i("span",[e._v(e._s(e.title[1])+"-")]),i("span",[e._v(e._s(e.title[2])+"-")]),e._v(" "),i("span",[e._v(e._s(e.title[3]))]),i("span",{directives:[{name:"show",rawName:"v-show",value:""!=e.title[4],expression:"title[4]!=''"}]},[e._v("-"+e._s(e.title[4]))]),i("span",{directives:[{name:"show",rawName:"v-show",value:""!=e.title[5],expression:"title[5]!=''"}]},[e._v("-"+e._s(e.title[5]))]),i("span",{directives:[{name:"show",rawName:"v-show",value:""!=e.title[6],expression:"title[6]!=''"}]},[e._v("-"+e._s(e.title[6]))])]),e._v(" "),i("div",{staticClass:"establish"},[i("div",{staticClass:"left"},[i("div",{staticClass:"item"},[i("div",{staticClass:"label"},[e._v("布置班级")]),e._v(" "),i("div",{staticClass:"input"},[i("el-select",{attrs:{placeholder:"请选择",multiple:""},on:{change:e.changeValue},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.createClassed}},[e._v("创建班级")])],1),e._v(" "),i("div",{staticClass:"item"},[i("div",{staticClass:"label"},[e._v("作业名称")]),e._v(" "),i("div",{staticClass:"input"},[i("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.homeworkName,callback:function(t){e.homeworkName=t},expression:"homeworkName"}})],1)]),e._v(" "),i("div",{staticClass:"item"},[i("div",{staticClass:"label"},[e._v("截止时间")]),e._v(" "),i("div",{staticClass:"input"},[i("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1)]),e._v(" "),i("div",{staticClass:"item"},[i("div",{staticClass:"label"},[e._v("认识水平")]),e._v(" "),i("div",{staticClass:"input"},[i("el-select",{attrs:{placeholder:"请选择认识水平"},model:{value:e.level,callback:function(t){e.level=t},expression:"level"}},[i("el-option",{attrs:{label:"初级",value:"1"}}),e._v(" "),i("el-option",{attrs:{label:"中级",value:"2"}}),e._v(" "),i("el-option",{attrs:{label:"高级",value:"3"}})],1)],1)]),e._v(" "),i("div",{staticClass:"item"},[i("div",{staticClass:"label"},[e._v("作业类型")]),e._v(" "),i("div",{staticClass:"input"},[i("el-select",{attrs:{placeholder:"请选择作业类型"},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[i("el-option",{attrs:{label:"结构化作业",value:"0"}}),e._v(" "),i("el-option",{attrs:{label:"非结构化作业(扩散性或探究型作业)",value:"1"}})],1)],1)])]),e._v(" "),i("div",{staticClass:"right"},[i("div",{staticClass:"item"},[i("div",{staticClass:"label"},[e._v("解决问题")]),e._v(" "),i("div",{staticClass:"input"},[i("el-input",{attrs:{type:"textarea"},model:{value:e.solveProblem,callback:function(t){e.solveProblem=t},expression:"solveProblem"}})],1)]),e._v(" "),i("div",{staticClass:"item"},[i("div",{staticClass:"label"},[e._v("知识点")]),e._v(" "),i("div",{staticClass:"input"},[i("el-input",{attrs:{type:"textarea"},model:{value:e.knowledge,callback:function(t){e.knowledge=t},expression:"knowledge"}})],1)]),e._v(" "),i("div",{staticClass:"item"},[i("div",{staticClass:"label"},[e._v("预计用时")]),e._v(" "),i("div",{staticClass:"input"},[i("el-input",{attrs:{type:"text"},model:{value:e.expectTime,callback:function(t){e.expectTime=t},expression:"expectTime"}},[i("template",{slot:"append"},[e._v("分钟")])],2)],1)])])])]),e._v(" "),i("div",{staticClass:"subject"},[i("div",{staticClass:"import-out"},[i("div",{staticClass:"title"},[e._v("已导入的试题")]),e._v(" "),i("Subjects",{attrs:{questionList:e.questionList}}),e._v(" "),e._e(),e._v(" "),e._e()],1)]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.order,expression:"order"}],staticClass:"video"},[i("div",{staticClass:"title"},[e._v("已导入的视频")]),e._v(" "),i("div",{staticClass:"order"},e._l(e.order,function(t,s){return i("div",{key:s,staticClass:"list"},[i("img",{attrs:{src:t.src,alt:""}}),e._v(" "),i("p",{staticClass:"name"},[e._v(e._s(t.name))]),e._v(" "),i("div",{staticClass:"foot"},[i("span",{},[e._v(e._s(t.creatTime))]),e._v(" "),i("span",{on:{click:function(i){return e.deleteVideo(t,s)}}},[e._v("删除")])])])}),0)]),e._v(" "),i("div",{staticClass:"confirm"},[3!=e.update?i("el-button",{attrs:{type:"warning"},on:{click:e.confirm}},[e._v(e._s(1==e.update?"确定发布":2==e.update?"更新发布":""))]):e._e(),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.againEdit}},[e._v("重新编辑")]),e._v(" "),i("el-button",{directives:[{name:"print",rawName:"v-print",value:"#printMe",expression:"'#printMe'"}],attrs:{type:"primary"}},[e._v("打印")]),e._v(" "),i("el-button",{attrs:{type:"primary"}},[e._v("下载")])],1)],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.centerDialogVisible,expression:"centerDialogVisible"}],staticClass:"creatClass"},[i("creatClass",{attrs:{centerDialogVisible:e.centerDialogVisible},on:{callOf:e.callOfa,closeDialog:e.closeDialog,submitForm:e.submitFormq}})],1)])},staticRenderFns:[]};var l=i("VU/8")(a,o,!1,function(e){i("bEDd")},null,null);t.default=l.exports},bEDd:function(e,t){}});
//# sourceMappingURL=63.6e688e334bef238c1418.js.map