webpackJsonp([24],{jTKR:function(e,t){e.exports="data:image/png;base64,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"},mNQv:function(e,t){},pNNh:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={name:"personalInfo",inject:["reload"],data:function(){return{schooleName:"",identity:sessionStorage.getItem("identity"),detailInfo:[],fit:"cover",ruleForm:{name:sessionStorage.getItem("name"),icon:sessionStorage.getItem("icon")},options:[{value:"选项1",label:"初中"},{value:"选项2",label:"高中"}],value:"",ruleForm2:{period:"",subject:"",areaCode:"",schooleName:"",ids:"",firstName:""},timenum1:0,statetype:!1,rules:{name:[{required:!0,message:"请输入名字",trigger:"blur"}],icon:[{required:!0,message:"请上传头像",trigger:"change"}]},rules2:{period:[{required:!0,message:"请选择学段",trigger:"change"}],subject:[{required:!0,message:"请选择学科",trigger:"change"}],areaCode:[{required:!0,message:"请选择区号"}],userType:[{required:!0,message:"请选择用户类型",trigger:"change"}],schooleName:[{required:!0,message:"请输入学校或机构简称",trigger:"blur"}],firstName:[{required:!0,message:"请输入真实姓名",trigger:"blur"}],ids:[{required:!0,message:"请输入数字",trigger:"blur"}]}}},created:function(){console.log(this.ruleForm.icon),this.queryUserDetailInfo(),this.$store.state.myhownav="3",sessionStorage.getItem("wxcode")?(this.ruleForm.icon=sessionStorage.getItem("wxicon"),this.ruleForm.icon=sessionStorage.getItem("wxusername")):(this.ruleForm.icon=sessionStorage.getItem("icon"),this.ruleForm.icon=sessionStorage.getItem("name"))},methods:{countDown1:function(){var e=this;clearInterval(this.time1),this.time1=setInterval(function(){e.timenum1+=1,(80==e.timenum1||e.timenum1>=100)&&clearInterval(e.time1)},100)},uploadimg:function(e){var t=this;this.updatatype1=!0,this.timenum1=0,this.countDown1();var s=this,a=e.target.files[0],o=(a.name.match(/\.(\w+)$/)[1],""+(new Date).getTime());this.client=new OSS.Wrapper({region:"oss-cn-shenzhen",secure:!0,accessKeyId:"TxkBX1VgU792UUVh",accessKeySecret:"45sBqHvJR7YeHj8qL5h0tsmvYdiA0W",bucket:"mixin"}),this.client.multipartUpload(o,a).then(function(a){e.target.value="",200==a.res.status&&200==a.res.statusCode?(s.$emit("input",a.res.requestUrls[0]),t.file_photourl=a.res.requestUrls[0].split("?")[0],t.ruleForm.icon=t.file_photourl,t.timenum1=100,clearInterval(t.time1),t.statetype=!0):(s.$message.error("上传失败，请重新上传文件"),t.statetype=!1)}).catch(function(e){})},queryUserDetailInfo:function(){var e=this;console.log(this.$store.state.period),this.$post("/sso/queryUserDetailInfo.do").then(function(t){"5000"==t.code&&(e.detailInfo=t.data,e.ruleForm2={period:"",subject:"",areaCode:Number(t.data.areaCode),schooleName:t.data.schoolName,ids:t.data.ids,firstName:t.data.firstName})})},errorHandler:function(){return!0},submitForms:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var s=t.$loading({lock:!0,text:"提交中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)",target:document.querySelector(".submit-test-dialog")}),a=t.ruleForm2,o={areaCode:a.areaCode,schooleName:a.schooleName,firstName:a.firstName,ids:a.ids};t.$post("/sso/createStudentId.do",o).then(function(e){s.close(),"5000"==e.code?(t.$message({message:"提交成功!",type:"success"}),t.$store.commit("getID",e.data),sessionStorage.setItem("identity",e.data),t.reload(),t.$refs.ruleForm2.resetFields()):t.$message({message:e.message,type:"error"})})})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.$post("/sso/updateIconAndName.do",{icon:t.ruleForm.icon,username:t.ruleForm.name}).then(function(e){"5000"==e.code?(sessionStorage.setItem("icon",t.ruleForm.icon),sessionStorage.setItem("name",t.ruleForm.name),t.$message({message:"修改成功!",type:"success"}),t.reload(),t.$refs.ruleForm.resetFields()):t.$message({message:e.message,type:"error"})})})}}},o={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"personalInfo bf bx mt72"},[s("div",{staticClass:"personalInfo-con bxs"},[e._m(0),e._v(" "),s("div",{staticClass:"bxRight"},[s("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":""}},[s("el-form-item",{attrs:{label:"",prop:"icon"}},[s("input",{staticStyle:{position:"absolute",opacity:"0",width:"80px",height:"80px"},attrs:{type:"file",name:"file",id:"Album_img",accept:"image/gif, image/jpeg, image/x-png"},on:{change:function(t){return e.uploadimg(t)}}}),e._v(" "),s("el-avatar",{attrs:{size:120,src:e.ruleForm.icon}},[s("img",{staticStyle:{width:"80px"},attrs:{src:e.ruleForm.icon,alt:""}})])],1),e._v(" "),s("el-form-item",[s("span",[e._v("学       段:")]),e._v(" "),s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),s("el-form-item",[s("span",[e._v("学       校:")]),e._v(" "),s("el-input",{staticClass:"schoolName",model:{value:e.schooleName,callback:function(t){e.schooleName=t},expression:"schooleName"}})],1),e._v(" "),s("el-form-item",[s("span",[e._v("政治面貌:")]),e._v(" "),s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),s("el-form-item",[s("span",[e._v("班       级:")]),e._v(" "),s("el-input",{staticClass:"schoolName",model:{value:e.schooleName,callback:function(t){e.schooleName=t},expression:"schooleName"}})],1),e._v(" "),s("el-form-item",[s("span",[e._v("备       注:")]),e._v(" "),s("el-input",{staticClass:"schoolName",model:{value:e.schooleName,callback:function(t){e.schooleName=t},expression:"schooleName"}})],1),e._v(" "),s("el-form-item",[s("el-button",{staticStyle:{"background-color":"#ff8a00",color:"#fff",border:"0"}},[e._v("确定")])],1)],1)],1)])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bxLeft"},[a("div",{staticClass:"infoImgBox"},[a("img",{attrs:{src:s("jTKR"),alt:""}})]),e._v(" "),a("p",{staticStyle:{"margin-top":"40px"}},[a("span",[e._v("姓       名:")]),e._v("   \n        "),a("span",[e._v("小陈")])]),e._v(" "),a("p",[a("span",[e._v("学生编码:")]),e._v("\n          \n        "),a("span",[e._v("1115")])]),e._v(" "),a("p",[a("span",[e._v("学       段:")]),e._v("\n           \n        "),a("span",[e._v("初中")])])])}]};var r=s("VU/8")(a,o,!1,function(e){s("uE8w"),s("mNQv")},"data-v-5e2c8428",null);t.default=r.exports},uE8w:function(e,t){}});
//# sourceMappingURL=24.e81986309ba2ae6864e8.js.map