{"version":3,"sources":["webpack:///src/components/uploadCourseware/uploadCourseware.vue","webpack:///./src/components/uploadCourseware/uploadCourseware.vue?6823","webpack:///./src/components/uploadCourseware/uploadCourseware.vue","webpack:///src/views/homeCommon/classManagement/studentList/courseware.vue","webpack:///./src/views/homeCommon/classManagement/studentList/courseware.vue?3bd9","webpack:///./src/views/homeCommon/classManagement/studentList/courseware.vue"],"names":["uploadCourseware","name","props","data","showimg","pageSize","pageNum","screens","options","value4","tableData","bookId","chapterId","barId","contentId","subjectId","classId","fileList","loadings","total","shrink","keyword","indexNo","rows","classIdList","currentPage","created","this","getClassList","queryCreateClass","getCourseware","mounted","methods","query","screen","e","_this","$post","then","res","code","subjectIds","id","handleSizeChangeFun","v","handleCurrentChangeFun","handleEdit","index","row","$store","commit","VideoUrl","url","VideoName","coursewareName","$router","push","path","$route","key","handleDelete","_this2","coursewareId","$confirm","confirmButtonText","cancelButtonText","type","$message","message","splice","catch","error","handleChange","changeFile","_this3","count","pageCount","_this4","workId","textbook","loading","$loading","lock","text","spinner","background","deletes","item","i","_this5","videoId","videoList","checkVideo","_this6","document","getElementById","value","$prompt","_ref","videoName","uploadimg","event","_this7","updatatype1","timenum1","self","file","target","files","ext","split","close","match","file_name","Date","getTime","client","OSS","Wrapper","region","secure","accessKeyId","accessKeySecret","bucket","multipartUpload","result","status","statusCode","$emit","requestUrls","file_photourl","clearInterval","time1","createClassVideo","statetype","err","changeShrink","_this8","textbookId","components","Grade","grade","Subject","subject","noData","Gagination","pagination","uploadCourseware_uploadCourseware","render","_vm","_h","$createElement","_c","_self","staticClass","on","_v","attrs","gutter","staticStyle","width","padding","display","transition","style","click","class","box-sizing","padding-bottom","clearable","placeholder","change","model","callback","$$v","expression","_l","label","nativeOn","keyup","$event","indexOf","_k","keyCode","length","align","prop","scopedSlots","_u","fn","scope","size","$index","current-page","page-size","handleSizeChangeSub","handleCurrentChangeSub","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","courseware","show","state","calssnav","studentList_courseware"],"mappings":"8HAgGAA,GACAC,KAAA,mBACAC,OAAA,QACAC,KAHA,WAIA,OAEAC,SAAA,EACAC,SAAA,GACAC,QAAA,EACAC,SAAA,EACAC,WACAC,OAAA,GACAC,aACAC,OAAA,GACAC,UAAA,GACAC,MAAA,GACAC,UAAA,GACAC,UAAA,GACAC,QAAA,GACAC,YACAC,SAAA,KACAC,MAAA,EACAC,QAAA,EACAC,QAAA,GACAC,QAAA,GACAC,KAAA,GACAC,YAAA,GACAC,YAAA,IAGAC,QA9BA,WA+BAC,KAAAC,eACAD,KAAAE,mBACAF,KAAAG,iBACAC,QAlCA,aAqCAC,SACAC,MADA,WAEAN,KAAAG,iBAEAI,OAJA,WAKAP,KAAApB,SAAAoB,KAAApB,SAGAsB,iBARA,SAQAM,GAAA,IAAAC,EAAAT,KACAA,KAAAU,MAAA,iCAAAC,KAAA,SAAAC,GACA,QAAAA,EAAAC,OAEAJ,EAAA5B,QAAA+B,EAAApC,SAKAsC,WAjBA,SAiBAN,GACAR,KAAAZ,UAAAoB,EAAAO,GACAf,KAAAG,iBAEAa,oBArBA,SAqBAC,GACAjB,KAAAtB,SAAAuC,EACAjB,KAAAG,iBAEAe,uBAzBA,SAyBAD,GACAjB,KAAArB,QAAAsC,EACAjB,KAAAG,iBAEAgB,WA7BA,SA6BAC,EAAAC,GAGArB,KAAAsB,OAAAC,OAAA,YAAAC,SAAAH,EAAAI,IAAAC,UAAAL,EAAAM,iBACA3B,KAAA4B,QAAAC,MAAAC,KAAA,yBAAAxB,OAAAwB,KAAA9B,KAAA+B,OAAAD,KAAAxD,KAAA0B,KAAA+B,OAAAzD,KAAA0D,IAAA,MAEAC,aAnCA,SAmCAb,EAAAC,GAAA,IAAAa,EAAAlC,KAEAxB,GAAA2D,aAAAd,EAAAN,IACAf,KAAAoC,SAAA,gBACAC,kBAAA,KACAC,iBAAA,KACAC,KAAA,YACA5B,KAAA,WACAuB,EAAAxB,MAAA,oCAAAlC,GAAAmC,KAAA,SAAAC,GACA,QAAAA,EAAAC,OAEAqB,EAAAM,UAAAC,QAAA,QAAAF,KAAA,YACAL,EAAAnD,UAAA2D,OAAAtB,EAAA,QAGAuB,MAAA,WACAT,EAAAM,SAAAI,MAAA,YAIAC,aAvDA,SAuDArC,GAEAR,KAAA8C,WAAAtC,IAEAL,cA3DA,WA2DA,IAAA4C,EAAA/C,KACAA,KAAAjB,aAEA,IAAAP,GACAkB,QAAAM,KAAAN,QACAL,QAAAW,KAAAH,YACAF,QAAAK,KAAAL,QACAC,KAAAI,KAAAJ,MAGAI,KAAAU,MAAA,wCAAAlC,GAAAmC,KAAA,SAAAC,GAEA,QAAAA,EAAAC,OAGAkC,EAAAhE,UAAA6B,EAAApC,KAAAoB,KACAmD,EAAAvD,MAAAoB,EAAApC,KAAAwE,MACAD,EAAAjD,YAAAc,EAAApC,KAAAyE,cAKAhD,aAjFA,SAiFAO,GAAA,IAAA0C,EAAAlD,KACAA,KAAAU,MAAA,qCAAAC,KAAA,SAAAC,GACA,QAAAA,EAAAC,OACAqC,EAAArE,QAAA+B,EAAApC,SAIA2E,OAxFA,SAwFA3C,GAEAR,KAAAf,UAAAuB,EAAAvB,UAAAe,KAAAd,MAAAsB,EAAAtB,MAAAc,KAAAb,UAAAqB,EAAArB,UACAa,KAAAG,iBAEAiD,SA7FA,SA6FA5C,GAEAR,KAAAhB,OAAAwB,EAAAO,GAAAf,KAAAZ,UAAAoB,EAAApB,UACAY,KAAAG,iBAEAkD,QAlGA,SAkGA7C,GACAR,KAAAT,SAAAS,KAAAsD,UACAC,MAAA,EACAC,KAAA,UACAC,QAAA,kBACAC,WAAA,wBAOAC,QA9GA,SA8GAC,EAAAC,GAAA,IAAAC,EAAA9D,KACAxB,GAAAuF,QAAAH,EAAA7C,IACAf,KAAAoC,SAAA,kBACAC,kBAAA,KACAC,iBAAA,KACAC,KAAA,YACA5B,KAAA,WACAmD,EAAApD,MAAA,+BAAAlC,GAAAmC,KAAA,SAAAC,GACA,QAAAA,EAAAC,OACAiD,EAAAtB,UAAAC,QAAA,QAAAF,KAAA,YACAuB,EAAAE,UAAAtB,OAAAmB,EAAA,SAMAI,WA9HA,SA8HAL,EAAAC,KAKAf,WAnIA,SAmIAtC,GAAA,IAAA0D,EAAAlE,KACA,UAAAA,KAAAb,WACAa,KAAAwC,UAAAC,QAAA,UAAAF,KAAA,UAEA4B,SAAAC,eAAA,UAAAC,MAAA,IACA,GAEArE,KAAAH,iBAKAG,KAAAsE,QAAA,gBACAjC,kBAAA,KACAC,iBAAA,OACA3B,KAAA,SAAA4D,GAAA,IAAAF,EAAAE,EAAAF,MACAH,EAAAM,UAAAH,EACAH,EAAAO,UAAAjE,KACAmC,MAAA,WACAuB,EAAA1B,UACAD,KAAA,OACAE,QAAA,YAbAzC,KAAAwC,UAAAC,QAAA,QAAAF,KAAA,UACA4B,SAAAC,eAAA,UAAAC,MAAA,IACA,IAeAI,UA5JA,SA4JAC,GAAA,IAAAC,EAAA3E,KACAA,KAAAqD,UACArD,KAAA4E,aAAA,EACA5E,KAAA6E,SAAA,EAEA,IAAAC,EAAA9E,KACA+E,EAAAL,EAAAM,OAAAC,MAAA,GAGAC,EAAAH,EAAAxC,KAAA4C,MAAA,QACA,OAAAD,GACA,UAGA,OAFAlF,KAAAT,SAAA6F,QACApF,KAAAwC,UAAAC,QAAA,UAAAF,KAAA,WACA,EAEA,UACA,WACA,UACA,UACA,UACA,UACA,WACA,UACA,WACA,UAIA,MACA,QAEA,OADAvC,KAAAwC,UAAAC,QAAA,UAAAF,KAAA,WACA,EAIAwC,EAAAzG,KAAA+G,MAAA,mBAEAC,GAAA,IAAAC,MAAAC,UAAA,IAAAN,EACAlF,KAAAyF,OAAA,IAAAC,IAAAC,SACAC,OAAA,kBACAC,QAAA,EAEAC,YAAA,mBACAC,gBAAA,iCACAC,OAAA,UAEAhG,KAAAyF,OACAQ,gBAAAX,EAAAP,GACApE,KAAA,SAAAuF,GACAxB,EAAAM,OAAAX,MAAA,GACA,KAAA6B,EAAAtF,IAAAuF,QAAA,KAAAD,EAAAtF,IAAAwF,YACAtB,EAAAuB,MAAA,QAAAH,EAAAtF,IAAA0F,YAAA,IACA3B,EAAA4B,cAAAL,EAAAtF,IAAA0F,YAAA,GAAAnB,MAAA,QAEAR,EAAAE,SAAA,IACA2B,cAAA7B,EAAA8B,OAEA9B,EAAA+B,mBACA/B,EAAAgC,WAAA,GAEA7B,EAAAtC,SAAAI,MAAA,kBAGAD,MAAA,SAAAiE,OAIAC,aAhOA,WAiOA7G,KAAAP,QAAAO,KAAAP,QAGAiH,iBApOA,SAoOAlG,GAAA,IAAAsG,EAAA9G,KACAxB,GACAqB,YAAAG,KAAAH,YACAT,UAAAY,KAAAZ,UACA2H,WAAA/G,KAAAhB,OACAC,UAAAe,KAAAf,UACAC,MAAAc,KAAAd,MACAC,UAAAa,KAAAb,UACAwC,eAAA3B,KAAAwE,UACA/C,IAAAzB,KAAAuG,eAEAvG,KAAAU,MAAA,qCAAAlC,GAAAmC,KAAA,SAAAC,GACA,QAAAA,EAAAC,MACAiG,EAAAvH,SAAA6F,QACA0B,EAAAtE,UAAAC,QAAA,QAAAF,KAAA,YACAuE,EAAA3G,iBAGA2G,EAAAtE,UAAAC,QAAA,QAAAF,KAAA,cAKAyE,YACAC,MAAAC,EAAA,EACAC,QAAAC,EAAA,EACAC,SAAA,EACAC,WAAAC,EAAA,ICjYeC,GADEC,OAFjB,WAA0B,IAAAC,EAAA1H,KAAa2H,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,qBAA+BF,EAAA,SAAcG,IAAI5I,UAAAsI,EAAA5G,cAA4B4G,EAAAO,GAAA,KAAAJ,EAAA,OAAwBE,YAAA,QAAkBF,EAAA,UAAeK,OAAOC,OAAA,MAAaN,EAAA,UAAeO,aAAaC,MAAA,MAAAC,QAAA,SAAAC,QAAA,QAAAC,WAAA,oBAAmFC,MAAAf,EAAAjI,OAAA,0BAA4CoI,EAAA,OAAYE,YAAA,kBAA4BF,EAAA,WAAgBY,MAAAf,EAAAjI,OAAA,6BAA8BuI,IAAsB7E,OAAAuE,EAAAvE,OAAAC,SAAAsE,EAAAtE,YAA6CsE,EAAAO,GAAA,KAAAJ,EAAA,OAAwBE,YAAA,SAAAC,IAAyBU,MAAAhB,EAAAb,gBAA0BgB,EAAA,KAAUc,MAAAjB,EAAAjI,OAAA,gDAA4D,KAAAiI,EAAAO,GAAA,KAAAJ,EAAA,UAAmCO,aAAaC,MAAA,MAAAC,QAAA,SAAAE,WAAA,mBAAAI,aAAA,cAA2FH,MAAAf,EAAAjI,OAAA,mBAAqCoI,EAAA,OAAYO,aAAa1E,WAAA,OAAAmF,iBAAA,UAA6ChB,EAAA,OAAYE,YAAA,oBAA8BF,EAAA,OAAYE,YAAA,wBAAkCF,EAAA,OAAYE,YAAA,QAAkBF,EAAA,QAAaE,YAAA,cAAwBL,EAAAO,GAAA,WAAAP,EAAAO,GAAA,KAAAJ,EAAA,aAAgDK,OAAOY,UAAA,GAAAC,YAAA,OAAmCf,IAAKgB,OAAAtB,EAAAvH,eAA2B8I,OAAQ5E,MAAAqD,EAAA,YAAAwB,SAAA,SAAAC,GAAiDzB,EAAA7H,YAAAsJ,GAAoBC,WAAA,gBAA2B1B,EAAA2B,GAAA3B,EAAA,iBAAA9D,GAAqC,OAAAiE,EAAA,aAAuB7F,IAAA4B,EAAA7C,GAAAmH,OAAmBoB,MAAA1F,EAAAtF,KAAA+F,MAAAT,EAAA7C,QAAqC,OAAA2G,EAAAO,GAAA,KAAAJ,EAAA,OAA+BE,YAAA,QAAkBF,EAAA,QAAaE,YAAA,cAAwBL,EAAAO,GAAA,SAAAP,EAAAO,GAAA,KAAAJ,EAAA,YAA6CK,OAAOa,YAAA,UAAuBQ,UAAWC,MAAA,SAAAC,GAAyB,OAAAA,EAAAlH,KAAAmH,QAAA,QAAAhC,EAAAiC,GAAAF,EAAAG,QAAA,WAAAH,EAAAzH,IAAA,SAAsF,KAAe0F,EAAApH,MAAAmJ,KAA0BR,OAAQ5E,MAAAqD,EAAA,QAAAwB,SAAA,SAAAC,GAA6CzB,EAAAhI,QAAAyJ,GAAgBC,WAAA,cAAuB,GAAA1B,EAAAO,GAAA,KAAAJ,EAAA,OAA4BE,YAAA,QAAkBF,EAAA,aAAkBK,OAAO3F,KAAA,WAAiByF,IAAKU,MAAAhB,EAAApH,SAAmBoH,EAAAO,GAAA,YAAAP,EAAAO,GAAA,KAAAJ,EAAA,OAA2CE,YAAA,QAAkBF,EAAA,aAAkBK,OAAO3F,KAAA,aAAkBmF,EAAAO,GAAA,UAAAP,EAAAO,GAAA,KAAAJ,EAAA,SAA2CK,OAAO3F,KAAA,OAAAxB,GAAA,UAA4BiH,IAAKgB,OAAAtB,EAAA5E,eAAyB,KAAA4E,EAAAO,GAAA,QAAAP,EAAA3I,UAAA8K,OAAAhC,EAAA,OAAwDE,YAAA,iBAA2BF,EAAA,YAAiBO,aAAaC,MAAA,QAAeH,OAAQ1J,KAAAkJ,EAAA3I,aAAsB8I,EAAA,mBAAwBK,OAAOoB,MAAA,OAAAQ,MAAA,SAAAC,KAAA,iBAAA1B,MAAA,SAAuEX,EAAAO,GAAA,KAAAJ,EAAA,mBAAoCK,OAAOoB,MAAA,OAAAS,KAAA,aAAAD,MAAA,SAAAzB,MAAA,SAAmEX,EAAAO,GAAA,KAAAJ,EAAA,mBAAoCK,OAAO4B,MAAA,SAAAR,MAAA,MAA8BU,YAAAtC,EAAAuC,KAAsBjI,IAAA,UAAAkI,GAAA,SAAAC,GAAiC,OAAAtC,EAAA,aAAwBE,YAAA,OAAAG,OAA0BkC,KAAA,QAAcpC,IAAKU,MAAA,SAAAe,GAAyB,OAAA/B,EAAAvG,WAAAgJ,EAAAE,OAAAF,EAAA9I,SAAiDqG,EAAAO,GAAA,QAAAP,EAAAO,GAAA,KAAAJ,EAAA,aAA6CK,OAAOkC,KAAA,OAAA7H,KAAA,UAA8ByF,IAAKU,MAAA,SAAAe,GAAyB,OAAA/B,EAAAzF,aAAAkI,EAAAE,OAAAF,EAAA9I,SAAmDqG,EAAAO,GAAA,YAAmB,uBAAyB,GAAAP,EAAAO,GAAA,KAAAJ,EAAA,OAA4BE,YAAA,eAAyBF,EAAA,cAAmBK,OAAO1I,MAAAkI,EAAAlI,MAAA8K,eAAA5C,EAAA5H,YAAAyK,YAAA7C,EAAAhJ,UAA0EsJ,IAAKwC,oBAAA9C,EAAA1G,oBAAAyJ,uBAAA/C,EAAAxG,2BAAmG,OAAAwG,EAAAgD,OAAAhD,EAAAO,GAAA,KAAAJ,EAAA,OAA2CE,YAAA,eAAAK,aAAwCC,MAAA,OAAA3E,WAAA,UAAoC,GAAAgE,EAAA3I,UAAA8K,OAAAhC,EAAA,UAAAH,EAAAgD,MAAA,oBAE30GC,oBCEjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEzM,EACAmJ,GATF,EAXA,SAAAuD,GACEF,EAAQ,QACRA,EAAQ,SAaV,kBAEA,MAUeG,EAAA,EAAAJ,EAAiB,gGCrBhCK,GACA3M,KAAA,aACAE,KAFA,WAGA,OACA0M,MAAA,IAGAnL,QAPA,WAQAC,KAAAsB,OAAA6J,MAAAC,SAAA,KAEApE,YACA3I,2BAAA,ICdegN,GADE5D,OAFjB,WAA0B,IAAaE,EAAb3H,KAAa4H,eAA0BC,EAAvC7H,KAAuC8H,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,oBAAwCK,OAAOgD,KAA9GlL,KAA8GkL,SAAiB,IAExIP,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEG,EACAI,GATF,EAVA,SAAAN,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/15.919d092c0722d830c0d1.js","sourcesContent":["<template>\n  <div class=\"uploadCourseware\">\n    <Grade @subjectId=\"subjectIds\"></Grade>\n    <div class=\"con\">\n      <el-row :gutter=\"20\">\n                <el-col style=\"width:25%;padding:0 10px;display:block;transition:all 0.5s ease 0s;\" :style=\"shrink?'':'width:0;padding:0;'\">\n          <div class=\"grid-content \">\n            <Subject @workId=\"workId\" @textbook=\"textbook\" :style=\"shrink?'':'width:0;overflow:hidden'\"></Subject>\n            <div class=\"shrink\" @click=\"changeShrink\">\n              <i :class=\"shrink?'el-icon-arrow-left':'el-icon-arrow-right'\"></i>\n            </div>\n          </div>\n        </el-col>\n        <el-col style=\"width:75%;padding:0 10px;transition:all 0.5s ease 0s;box-sizing:border-box;\" :style=\"shrink?'':'width:100%;'\">\n          <div style=\"background:#fff;padding-bottom:50px;\">\n                        <div class=\"published bf bx\">\n            <div class=\"sec-con  flexbox bx\">\n              <div class=\"sec\">\n                <span class=\"name ft16\">选择班级：</span>\n                <el-select v-model=\"classIdList\" clearable placeholder=\"请选择\" @change=\"getCourseware\">\n                  <el-option\n                    v-for=\"item in options\"\n                    :key=\"item.id\"\n                    :label=\"item.name\"\n                    :value=\"item.id\">\n                  </el-option>\n                </el-select>\n              </div>\n              <div class=\"sec\">\n                <span class=\"name ft16\">关键词</span>\n                <el-input v-model=\"keyword\" placeholder=\"请输入关键词\" @keyup.enter.native=\"query\"></el-input>\n              </div>\n              <div class=\"sec\">\n                <el-button type=\"primary\" @click=\"query\">查询</el-button>\n              </div>\n              <div class=\"btn\">\n                <el-button type=\"primary\">点击上传</el-button>\n                <input type=\"file\" id=\"upload\" @change=\"changeFile\" />\n              </div>\n              <!-- <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png文件，且不超过500kb</div> -->\n              <!-- </el-upload> -->\n            </div>\n            <div class=\"courseCon bf\" v-if=\"tableData.length!=0\">\n              <el-table\n                :data=\"tableData\"\n                style=\"width: 100%\">\n                <el-table-column\n                  label=\"课件名称\"\n                  align=\"center\"\n                  prop=\"coursewareName\"\n                  width=\"380\">\n                </el-table-column>\n                <el-table-column\n                  label=\"上传时间\"\n                  prop=\"createTime\"\n                  align=\"center\"\n                  width=\"200\">\n                </el-table-column>\n                <el-table-column  align=\"center\" label=\"操作\">\n                  <template slot-scope=\"scope\">\n                    <el-button\n                      size=\"mini\"\n                      class=\"scan\"\n                      @click=\"handleEdit(scope.$index, scope.row)\">查看</el-button>\n                    <el-button\n                      size=\"mini\"\n                      type=\"danger\"\n                      @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\n                  </template>\n                </el-table-column>\n              </el-table>\n\n\n              <div class=\"pagination\">\n                <Gagination :total=\"total\" :current-page=\"currentPage\" :page-size=\"pageSize\" @handleSizeChangeSub=\"handleSizeChangeFun\" @handleCurrentChangeSub=\"handleCurrentChangeFun\"></Gagination>\n              </div>\n            </div>\n          </div>\n<div class=\"courseCon bf\" style=\"width:100%;background:#fff;\">\n\n                   <noData v-if=\"tableData.length==0\"></noData>\n</div>\n          </div>\n\n        </el-col>\n      </el-row>\n    </div>\n  </div>\n</template>\n\n<script>\n  import Grade from '../grade/grade';\n  import Subject from '../grade/subject';\n  import noData from '../noData/noData';\n  import Gagination from '../pagination/pagination'\n  \n  export default {\n    name: \"uploadCourseware\",\n    props:['show'],\n    data(){\n      return{\n        // show:true,\n        showimg:false,\n        pageSize:10,\n        pageNum:1,\n        screens:false,\n        options: [],\n        value4: '',\n        tableData: [],\n        bookId:'',\n        chapterId:'',\n        barId:'',\n        contentId:'',\n        subjectId:'',\n        classId:'',\n        fileList:[],\n        loadings:null,\n        total:0,\n        shrink:true,\n        keyword:'',\n        indexNo:'',\n        rows:10,\n        classIdList:'',\n        currentPage:1,\n      }\n    },\n    created(){\n      this.getClassList();\n      this.queryCreateClass();\n      this.getCourseware();\n    },mounted() {\n      \n    },\n    methods: {\n      query(){\n        this.getCourseware();\n      },\n      screen(){\n        this.screens = !this.screens;\n      },\n      // 获取班级\n      queryCreateClass(e){\n        this.$post('/likework/queryCreateClass.do').then(res=>{\n          if(res.code==\"5000\"){\n          //  console.log(res.data);\n            this.options = res.data;\n          }\n        })\n      },\n      //学段学科\n      subjectIds(e){\n        this.subjectId = e.id;\n        this.getCourseware();\n      },\n      handleSizeChangeFun(v) {\n        this.pageSize = v;\n        this.getCourseware(); //每页条数\n      },\n      handleCurrentChangeFun(v) { //页面点击\n        this.pageNum = v; //当前页\n        this.getCourseware(); //当前\n      },\n      handleEdit(index, row) {\n        \n        // console.log(index, row);\n        this.$store.commit('getVideo',{VideoUrl:row.url,VideoName:row.coursewareName})\n        this.$router.push({path:'/homeCommon/checkVideo',query:{path:this.$route.path,name:this.$route.name,key:1}})\n      },\n      handleDelete(index, row) {\n        // console.log(index, row);\n        let data={coursewareId:row.id}\n        this.$confirm('是否删除此文件','提示',{\n          confirmButtonText:'确定',\n          cancelButtonText:'取消',\n          type:'warning'\n        }).then(()=>{\n          this.$post(\"/likework/deleteCoursewareById.do\",data).then(res=>{\n            if(res.code==\"5000\"){\n              // console.log(res);\n              this.$message({message:'删除成功!',type:'success'});\n              this.tableData.splice(index,1);\n            }\n          })\n        }).catch(()=>{\n          this.$message.error('删除失败!');\n        })\n      },\n      // 上传文件\n      handleChange(e){\n        // console.log(e)\n        this.changeFile(e);\n      },\n      getCourseware(){\n        this.tableData=[];\n      //  console.log(this.classId)\n        let data={\n          keyword:this.keyword,\n          classId:this.classIdList,\n          indexNo:this.indexNo,\n          rows:this.rows\n        };\n       // console.log(data);\n        this.$post('/likework/queryCoursewareByClassId.do',data).then(res=>{\n          // console.log(res);\n          if(res.code==\"5000\"){\n            // console.log(res.data.pageCount);\n\n            this.tableData = res.data.rows;\n            this.total = res.data.count;\n            this.currentPage = res.data.pageCount;\n\n          }\n        })\n      },\n      getClassList(e){\n        this.$post(\"/likework/queryJoinClassSelect.do\").then(res=>{\n          if(res.code==\"5000\"){\n            this.options = res.data;\n          }\n        })\n      },\n      workId(e){\n       // console.log(e);\n        this.chapterId = e.chapterId,this.barId = e.barId,this.contentId = e.contentId;\n        this.getCourseware()\n      },\n      textbook(e){\n     //   console.log(e)\n        this.bookId = e.id,this.subjectId = e.subjectId;\n        this.getCourseware()\n      },\n      loading(e){\n        this.loadings = this.$loading({\n          lock: true,\n          text: 'Loading',\n          spinner: 'el-icon-loading',\n          background: 'rgba(0, 0, 0, 0.7)'\n        });\n        // setTimeout(() => {\n        //   loading.close();\n        // }, 2000);\n      },\n      // 删除视频\n      deletes(item,i){\n        let data={videoId:item.id};\n        this.$confirm('确定删除此课件吗?','提示',{\n          confirmButtonText:'确定',\n          cancelButtonText:'取消',\n          type:'warning'\n        }).then(()=>{\n          this.$post(\"/likework/deleteVideoById.do\",data).then(res=>{\n            if(res.code==\"5000\"){\n              this.$message({message:'删除成功!',type:'success'});\n              this.videoList.splice(i,1);\n            }\n          })\n        })\n      },\n      // 查看视频\n      checkVideo(item,i){\n        // console.log(item)\n        // console.log(i)\n\n      },\n      changeFile(e) {\n        if (this.contentId == \"\") {\n          this.$message({ message: \"请选择章节内容\", type: \"error\" });\n        //  this.shrink = !this.shrink;\n          document.getElementById('upload').value = '';\n          return false;\n        }\n        if(!this.classIdList){\n          this.$message({message:'请选择班级',type:'error'})\n          document.getElementById('upload').value = '';\n          return false;\n        }\n        this.$prompt('请输入课件名称', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n        }).then(({ value }) => {\n          this.videoName = value;\n          this.uploadimg(e);\n        }).catch(() => {\n          this.$message({\n            type: 'info',\n            message: '取消输入'\n          });\n        });\n      },\n      uploadimg(event) {\n        this.loading();\n        this.updatatype1 = true;\n        this.timenum1 = 0;\n        // this.countDown1();\n        var self = this;\n        var file = event.target.files[0];\n        // var file = event.raw;\n     //   console.log(file)\n        var ext = file.type.split(\"/\")[1];\n                switch(ext){\n          case 'mp3':\n            this.loadings.close();\n            this.$message({message:'请上传课件文件',type:'error'})\n            return false;\n            break;\n          case 'jpg':\n          case 'jpeg':\n          case 'png':\n          case 'bmp':\n          case 'gif':\n          case 'ppt':\n          case 'pptx':\n          case 'doc':\n          case 'docx':\n          case 'pdf':\n            // this.loadings.close();\n            // this.$message({message:'请上传课件文件',type:'error'})\n            // return false;\n            break;\n          default:\n            this.$message({message:'请上传课件文件',type:'error'});\n            return false;\n            break;\n        };\n        // this.videoName = file.name.replace(\".\"+ext,\"\");\n        var type = file.name.match(/\\.(\\w+)$/)[1]; //获取上传文件后缀名\n        var storeAs = \"upload-file1/abc\";\n        var file_name = `${new Date().getTime()}.${ext}`; //时间戳+文件后缀名\n        this.client = new OSS.Wrapper({\n          region: \"oss-cn-shenzhen\",\n          secure: true,\n          //endpoint: \"oss-cn-shenzhen.aliyuncs.com\",\n          accessKeyId: \"TxkBX1VgU792UUVh\",\n          accessKeySecret: \"45sBqHvJR7YeHj8qL5h0tsmvYdiA0W\",\n          bucket: \"mixin\"\n        });\n        this.client\n          .multipartUpload(file_name, file)\n          .then(result => {\n            event.target.value = \"\";\n            if (result.res.status == 200 && result.res.statusCode == 200) {\n              self.$emit(\"input\", result.res.requestUrls[0]);\n              this.file_photourl = result.res.requestUrls[0].split(\"?\")[0];\n         //     console.log(this.file_photourl);\n              this.timenum1 = 100;\n              clearInterval(this.time1);\n              // self.$message.success(\"上传成功\");\n              this.createClassVideo();\n              this.statetype = true;\n            } else {\n              self.$message.error(\"上传失败，请重新上传文件\");\n            }\n          })\n          .catch(function(err) {\n        //    console.log(err);\n          });\n      },\n          changeShrink(){\n      this.shrink = !this.shrink;\n    },\n      // 创建视频\n      createClassVideo(e){\n        let data={\n          classIdList:this.classIdList,\n          subjectId:this.subjectId,\n          textbookId:this.bookId,\n          chapterId:this.chapterId,\n          barId:this.barId,\n          contentId:this.contentId,\n          coursewareName:this.videoName,\n          url:this.file_photourl\n        };\n        this.$post(\"/likework/createClassCourseware.do\",data).then(res=>{\n          if(res.code==\"5000\"){\n            this.loadings.close();\n            this.$message({message:'创建成功!',type:'success'});\n            this.getCourseware();\n          }\n          else{\n            this.$message({message:'创建失败!',type:'error'});\n          }\n        })\n      }\n    },\n    components:{\n      Grade,\n      Subject,\n      noData,\n      Gagination\n    }\n  }\n</script>\n\n<style scoped lang=\"less\">\n  .uploadCourseware{\n    .con{\n      margin-top: 20px;\n      .published{\n        .sec-con{\n          padding: 30px;\n          .sec{\n            margin-right: 20px;\n            .el-input{\n              width:auto;\n            }\n          }\n        }\n        .courseCon{\n          height: 660px;\n          position: relative;\n          .pagination{\n            position: absolute;\n            bottom: 0px;\n            text-align: center;\n            right: 20px;\n          }\n        }\n      }\n          .grid-content{\n      position: relative;\n                .shrink{\n            cursor: pointer;\n            position: absolute;\n            width: 30px;\n            right: 0;\n            top:50%;\n            height: 60px;\n            border-radius: 5px 0 0 5px;\n            border: 1px solid #ccc;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            i{\n              font-size: 24px;\n            }\n      }\n    }\n    }\n  }\n</style>\n<style>\n  .btn{\n    position: relative;\n  }\n  .btn input{\n    width:98px;\n    height:40px;\n    position: absolute;\n    left: 0;\n    top: 0;\n    z-index: 1;\n    opacity: 0;\n  }\n  .uploadCourseware .published .el-table td, .el-table th.is-leaf{border-bottom: none}\n  .uploadCourseware .published .el-table--border::after, .uploadCourseware .published .el-table--group::after, .uploadCourseware .published .el-table::before {\n    content: '';\n    position: absolute;\n    background-color: #ffffff;\n    z-index: 1;\n  }\n  .uploadCourseware .published  .el-table .has-gutter th>.cell{font-size: 16px;color: #333333}\n  .uploadCourseware .published  .el-table .el-table__body tr .el-table_1_column_1  .cell{color: #39a5ff;text-decoration: underline;}\n  .uploadCourseware .published  .el-table .el-table__body tr .el-table_1_column_2  .cell{color: #666666;}\n  .uploadCourseware .published .courseCon .scan{background: #2592e7;border-color: #2592e7;color: #ffffff;}\n  .uploadCourseware .published .courseCon .el-button--danger{background: #ff8a00;border-color: #ff8a00;}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/uploadCourseware/uploadCourseware.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"uploadCourseware\"},[_c('Grade',{on:{\"subjectId\":_vm.subjectIds}}),_vm._v(\" \"),_c('div',{staticClass:\"con\"},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{staticStyle:{\"width\":\"25%\",\"padding\":\"0 10px\",\"display\":\"block\",\"transition\":\"all 0.5s ease 0s\"},style:(_vm.shrink?'':'width:0;padding:0;')},[_c('div',{staticClass:\"grid-content \"},[_c('Subject',{style:(_vm.shrink?'':'width:0;overflow:hidden'),on:{\"workId\":_vm.workId,\"textbook\":_vm.textbook}}),_vm._v(\" \"),_c('div',{staticClass:\"shrink\",on:{\"click\":_vm.changeShrink}},[_c('i',{class:_vm.shrink?'el-icon-arrow-left':'el-icon-arrow-right'})])],1)]),_vm._v(\" \"),_c('el-col',{staticStyle:{\"width\":\"75%\",\"padding\":\"0 10px\",\"transition\":\"all 0.5s ease 0s\",\"box-sizing\":\"border-box\"},style:(_vm.shrink?'':'width:100%;')},[_c('div',{staticStyle:{\"background\":\"#fff\",\"padding-bottom\":\"50px\"}},[_c('div',{staticClass:\"published bf bx\"},[_c('div',{staticClass:\"sec-con  flexbox bx\"},[_c('div',{staticClass:\"sec\"},[_c('span',{staticClass:\"name ft16\"},[_vm._v(\"选择班级：\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择\"},on:{\"change\":_vm.getCourseware},model:{value:(_vm.classIdList),callback:function ($$v) {_vm.classIdList=$$v},expression:\"classIdList\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1),_vm._v(\" \"),_c('div',{staticClass:\"sec\"},[_c('span',{staticClass:\"name ft16\"},[_vm._v(\"关键词\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"placeholder\":\"请输入关键词\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.query($event)}},model:{value:(_vm.keyword),callback:function ($$v) {_vm.keyword=$$v},expression:\"keyword\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"sec\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.query}},[_vm._v(\"查询\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"btn\"},[_c('el-button',{attrs:{\"type\":\"primary\"}},[_vm._v(\"点击上传\")]),_vm._v(\" \"),_c('input',{attrs:{\"type\":\"file\",\"id\":\"upload\"},on:{\"change\":_vm.changeFile}})],1)]),_vm._v(\" \"),(_vm.tableData.length!=0)?_c('div',{staticClass:\"courseCon bf\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"label\":\"课件名称\",\"align\":\"center\",\"prop\":\"coursewareName\",\"width\":\"380\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"上传时间\",\"prop\":\"createTime\",\"align\":\"center\",\"width\":\"200\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticClass:\"scan\",attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleEdit(scope.$index, scope.row)}}},[_vm._v(\"查看\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}},[_vm._v(\"删除\")])]}}],null,false,3402272533)})],1),_vm._v(\" \"),_c('div',{staticClass:\"pagination\"},[_c('Gagination',{attrs:{\"total\":_vm.total,\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize},on:{\"handleSizeChangeSub\":_vm.handleSizeChangeFun,\"handleCurrentChangeSub\":_vm.handleCurrentChangeFun}})],1)],1):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"courseCon bf\",staticStyle:{\"width\":\"100%\",\"background\":\"#fff\"}},[(_vm.tableData.length==0)?_c('noData'):_vm._e()],1)])])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3aa873df\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/uploadCourseware/uploadCourseware.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3aa873df\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":54}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./uploadCourseware.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3aa873df\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":54}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./uploadCourseware.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./uploadCourseware.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./uploadCourseware.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3aa873df\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./uploadCourseware.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3aa873df\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/uploadCourseware/uploadCourseware.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div>  <uploadCourseware :show=\"show\"></uploadCourseware></div>\r\n</template>\r\n\r\n<script>\r\n  import uploadCourseware from '../../../../components/uploadCourseware/uploadCourseware'\r\n    export default {\r\n        name: \"courseware\",\r\n      data(){\r\n          return{\r\n            show:false\r\n          }\r\n      },\r\n      created(){\r\n        this.$store.state.calssnav=\"4\"; //头部导航\r\n      },\r\n      components:{\r\n        uploadCourseware\r\n      }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/homeCommon/classManagement/studentList/courseware.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('uploadCourseware',{attrs:{\"show\":_vm.show}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7ed13ed2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/homeCommon/classManagement/studentList/courseware.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7ed13ed2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":54}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./courseware.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./courseware.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./courseware.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7ed13ed2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./courseware.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7ed13ed2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/homeCommon/classManagement/studentList/courseware.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}