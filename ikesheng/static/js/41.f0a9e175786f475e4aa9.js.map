{"version":3,"sources":["webpack:///src/views/studentCommon/mine/setting.vue","webpack:///./src/views/studentCommon/mine/setting.vue?566e","webpack:///./src/views/studentCommon/mine/setting.vue"],"names":["setting","data","_this","this","checkPhone","rule","value","callback","Error","reg","console","log","test","flag","show","showt","count","count1","t","t1","text","ruleForm2","oldpass","pass","checkPass","phone","code","ruleForm1","ruleForm","oldpaw","paw","checkPaw","rules","required","message","trigger","validator","$refs","validateField","rules2","rules1","created","queryHasbindMobile","$store","state","myhownav","methods","getAuthCode","e","_this2","setInterval","res","clearInterval","$post","mobile","then","$message","type","error","getAuthCode1","_this3","getCode1","formName","_this4","validMessage","phones","getCode","_this5","_this6","response","submitFormpas","_this7","validate","valid","loadingObj","$loading","lock","spinner","background","target","document","querySelector","formData","newPwd","oldPwd","close","resetFields","submitForms","_this8","verificationCode","submitForm","_this9","pwd","mine_setting","render","_vm","_h","$createElement","_c","_self","staticClass","directives","name","rawName","expression","staticStyle","color","_v","ref","attrs","model","status-icon","label-width","label","prop","clearable","auto-complete","$$v","$set","background-color","border","on","click","$event","margin-top","_s","maxlength","input","validNumber","placeholder","background-colof","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/41.f0a9e175786f475e4aa9.js","sourcesContent":["<template>\n  <div class=\"setting bf\">\n    <div class=\"setting-con bx\">\n      <div class=\"changePassword\" v-show=\"show\">\n        <p class=\"tit ft18 col39a\" style=\"color:#ff8a00\">修改密码</p>\n        <el-form\n          :model=\"ruleForm\"\n          status-icon\n          :rules=\"rules\"\n          ref=\"ruleForm\"\n          label-width=\"100px\"\n          class=\"demo-ruleForm\"\n        >\n          <el-form-item label=\"原密码\" prop=\"oldpaw\">\n            <el-input type=\"password\" clearable v-model=\"ruleForm.oldpaw\" auto-complete=\"off\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"密码\" prop=\"paw\">\n            <el-input type=\"password\" clearable v-model=\"ruleForm.paw\" auto-complete=\"off\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"确认密码\" prop=\"checkPaw\">\n            <el-input type=\"password\" clearable v-model=\"ruleForm.checkPaw\" auto-complete=\"off\"></el-input>\n          </el-form-item>\n          <el-form-item>\n            <el-button\n              type=\"primary\"\n              class=\"apply\"\n              @click=\"submitFormpas('ruleForm')\"\n              style=\"background-color:#ff8a00;color:#fff;border:none;\"\n            >确定</el-button>\n          </el-form-item>\n        </el-form>\n        <el-form\n          :model=\"ruleForm1\"\n          status-icon\n          :rules=\"rules1\"\n          ref=\"ruleForm1\"\n          label-width=\"100px\"\n          class=\"demo-ruleForm\"\n        >\n          <p class=\"tit ft18 col39a\" style=\"margin-top: 50px;color:#f25c29\">{{text}}</p>\n          <el-form-item label=\"原手机号码\" prop=\"phone\">\n            <el-input\n              type=\"text\"\n              clearable\n              maxlength=\"11\"\n              v-model=\"ruleForm1.phone\"\n              @input=\"e=>ruleForm1.phone=validNumber(e)\"\n              auto-complete=\"off\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"输入验证码\" prop=\"code\" class=\"yzm\">\n            <el-input\n              v-model=\"ruleForm1.code\"\n              maxlength=\"6\"\n              @input=\"e=>ruleForm1.code=validNumber(e)\"\n              clearable\n              placeholder=\"验证码\"\n            ></el-input>\n            <el-button\n              style=\"background-color:#ff8a00;color:#fff;border:none;\"\n              type=\"text\"\n              @click=\"getCode1('phone')\"\n            >{{count1==60?'获取验证码':'重新获取('+count1+')'}}</el-button>\n          </el-form-item>\n          <el-form-item>\n            <el-button\n              type=\"primary\"\n              class=\"apply\"\n              @click=\"submitForms('ruleForm1')\"\n              style=\"background-color:#ff8a00;color:#fff;border:none;\"\n            >确定</el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n      <div class=\"changePassword\" v-show=\"showt\">\n        <p class=\"tit ft18 col39a\" style=\"color:#ff8a00\">绑定手机号</p>\n        <el-form\n          :model=\"ruleForm2\"\n          status-icon\n          :rules=\"rules2\"\n          ref=\"ruleForm2\"\n          label-width=\"100px\"\n          class=\"demo-ruleForm\"\n        >\n          <el-form-item label=\"新手机号码\" prop=\"phone\">\n            <el-input\n              type=\"text\"\n              clearable\n              v-model=\"ruleForm2.phone\"\n              maxlength=\"11\"\n              @input=\"e=>ruleForm2.phone=validNumber(e)\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"输入验证码\" prop=\"code\" class=\"yzm\">\n            <el-input\n              v-model=\"ruleForm2.code\"\n              maxlength=\"6\"\n              @input=\"e=>ruleForm2.code=validNumber(e)\"\n              clearable\n              placeholder=\"验证码\"\n            ></el-input>\n            <el-button\n              type=\"text\"\n              @click=\"getCode('phone')\"\n              style=\"border:0;background-colof:#ff8a00;color:#fff\"\n            >{{count==60?'获取验证码':'重新获取('+count+')'}}</el-button>\n          </el-form-item>\n          <el-form-item label=\"密码\" prop=\"pass\">\n            <el-input type=\"password\" clearable v-model=\"ruleForm2.pass\" auto-complete=\"off\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"确认密码\" prop=\"checkPass\">\n            <el-input type=\"password\" clearable v-model=\"ruleForm2.checkPass\" auto-complete=\"off\"></el-input>\n          </el-form-item>\n          <el-form-item>\n            <el-button\n              type=\"primary\"\n              class=\"apply\"\n              @click=\"submitForm('ruleForm2')\"\n              style=\"background-color:#ff8a00;color:#fff;border:none;\"\n            >确定</el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    var checkPhone = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"手机号不能为空\"));\n      } else {\n        const reg = /^1[3|4|5|7|8][0-9]\\d{8}$/;\n        console.log(reg.test(value));\n        if (reg.test(value)) {\n          callback();\n        } else {\n          return callback(new Error(\"请输入正确的手机号\"));\n        }\n      }\n    };\n    var validatePass = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请输入密码\"));\n      } else {\n        if (this.ruleForm2.checkPass !== \"\") {\n          this.$refs.ruleForm2.validateField(\"checkPass\");\n        }\n        callback();\n      }\n    };\n    var validatePass1 = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请输入密码\"));\n      } else {\n        if (this.ruleForm.checkPaw !== \"\") {\n          this.$refs.ruleForm.validateField(\"checkPaw\");\n        }\n        callback();\n      }\n    };\n    var validatePass12 = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请再次输入密码\"));\n      } else if (value !== this.ruleForm.paw) {\n        callback(new Error(\"两次输入密码不一致!\"));\n      } else {\n        callback();\n      }\n    };\n    var validatePass2 = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请再次输入密码\"));\n      } else if (value !== this.ruleForm2.pass) {\n        callback(new Error(\"两次输入密码不一致!\"));\n      } else {\n        callback();\n      }\n    };\n    return {\n      flag: 1, //(1-解绑 2-加绑)\n      show: true,\n      showt: false,\n      count: 60,\n      count1: 60,\n      t: null,\n      t1: null,\n      text: \"解绑手机号\",\n      ruleForm2: {\n        oldpass: \"\",\n        pass: \"\",\n        checkPass: \"\",\n        phone: \"\",\n        code: \"\"\n      },\n      ruleForm1: {\n        phone: \"\",\n        code: \"\"\n      },\n      ruleForm: {\n        oldpaw: \"\",\n        paw: \"\",\n        checkPaw: \"\"\n      },\n      rules: {\n        oldpaw: [{ required: true, message: \"请输入原密码\", trigger: \"blur\" }],\n        paw: [{ validator: validatePass1, trigger: \"blur\" }],\n        checkPaw: [{ validator: validatePass12, trigger: \"blur\" }]\n      },\n      rules2: {\n        phone: [{ required: true, validator: checkPhone, trigger: \"blur\" }],\n        oldpass: [{ required: true, message: \"请输入原密码\", trigger: \"blur\" }],\n        code: [{ required: true, message: \"请输入验证码\", trigger: \"blur\" }],\n        pass: [{ validator: validatePass, trigger: \"blur\" }],\n        checkPass: [{ validator: validatePass2, trigger: \"blur\" }]\n      },\n      rules1: {\n        phone: [{ required: true, validator: checkPhone, trigger: \"blur\" }],\n        code: [{ required: true, message: \"请输入验证码\", trigger: \"blur\" }]\n      }\n    };\n  },\n  created() {\n    //判断是否绑定手机号\n    this.queryHasbindMobile();\n    this.$store.state.myhownav = \"2\"; //头部导航\n    // this.$refs[\"ruleForm\"].resetFields();\n    // this.$refs[\"ruleForm1\"].resetFields();\n    // this.$refs[\"ruleForm2\"].resetFields();\n  },\n  methods: {\n    getAuthCode(e) {\n      if (this.count == 60) {\n        this.count--;\n        this.t = setInterval(res => {\n          this.count--;\n          if (this.count == 0) {\n            this.count = 60;\n            clearInterval(this.t);\n          }\n        }, 1000);\n        this.$post(\"/sso/GetVerificationVode.do\", { mobile: e }).then(res => {\n          if (res.code == \"5000\") {\n            console.log(res);\n            this.$message({\n              message: \"发送成功!\",\n              type: \"success\"\n            });\n          } else {\n            this.$message.error(res.message);\n          }\n        });\n      }\n    },\n    getAuthCode1(e) {\n      if (this.count1 == 60) {\n        this.count1--;\n        this.t1 = setInterval(res => {\n          this.count1--;\n          if (this.count1 == 0) {\n            this.count1 = 60;\n            clearInterval(this.t1);\n          }\n        }, 1000);\n        this.$post(\"/sso/GetVerificationVode.do\", { mobile: e }).then(res => {\n          if (res.code == \"5000\") {\n            console.log(res);\n            this.$message({\n              message: \"发送成功!\",\n              type: \"success\"\n            });\n          } else {\n            this.$message.error(res.message);\n          }\n        });\n      }\n    },\n    //验证码\n    getCode1(formName) {\n      this.$refs.ruleForm1.validateField(\"phone\", validMessage => {\n        if (!validMessage) {\n          let phones = this.ruleForm1.phone;\n          this.getAuthCode1(phones);\n        }\n      });\n    },\n    getCode(formName) {\n      this.$refs.ruleForm2.validateField(\"phone\", validMessage => {\n        if (!validMessage) {\n          let phones = this.ruleForm2.phone;\n          this.getAuthCode(phones);\n        }\n      });\n    },\n    //判断是否绑定手机号\n    queryHasbindMobile() {\n      this.$post(\"/sso/queryHasbindMobile.do\").then(response => {\n        //console.log(response)\n        if (response.code == \"5000\") {\n          //（true-已绑定 false-未绑定 ）\n          if (response.data == true) {\n            this.show = true;\n            this.showt = false;\n          } else {\n            this.show = false;\n            this.showt = true;\n          }\n        }\n      });\n    },\n    //密码\n    submitFormpas(formName) {\n      this.$refs[formName].validate(valid => {\n        if (valid) {\n          const loadingObj = this.$loading({\n            lock: true,\n            text: \"提交中...\",\n            spinner: \"el-icon-loading\",\n            background: \"rgba(0, 0, 0, 0.7)\",\n            target: document.querySelector(\".submit-test-dialog\")\n          });\n          let formData = this.ruleForm;\n          let data = {\n            newPwd: formData.paw,\n            oldPwd: formData.oldpaw\n          };\n          this.$post(\"/sso/updateUserInfo.do\", data).then(response => {\n            loadingObj.close();\n            if (response.code == \"5000\") {\n              this.$message({\n                message: \"修改成功!\",\n                type: \"success\"\n              });\n              this.$refs[\"ruleForm\"].resetFields();\n              this.flag = 2;\n              if ((this.flag = 1)) {\n                this.text = \"解绑手机号\";\n              } else if ((this.flag = 2)) {\n                this.text = \"绑定手机号\";\n              }\n            } else {\n              this.$message({\n                message: response.message,\n                type: \"error\"\n              });\n            }\n          });\n        } else {\n          console.log(\"error submit!!\");\n          return false;\n        }\n      });\n    },\n    submitForms(formName) {\n      this.$refs[formName].validate(valid => {\n        if (valid) {\n          const loadingObj = this.$loading({\n            lock: true,\n            text: \"提交中...\",\n            spinner: \"el-icon-loading\",\n            background: \"rgba(0, 0, 0, 0.7)\",\n            target: document.querySelector(\".submit-test-dialog\")\n          });\n          let formData = this.ruleForm1;\n          let data = {\n            verificationCode: formData.code,\n            mobile: formData.phone,\n            flag: this.flag //(1-解绑 2-加绑)\n          };\n          this.$post(\"/sso/updateUserInfo.do\", data).then(response => {\n            loadingObj.close();\n            if (response.code == \"5000\") {\n              this.$message({\n                message: \"解绑成功!\",\n                type: \"success\"\n              });\n              this.count1 = 60;\n              clearInterval(this.t1);\n              this.$refs[\"ruleForm1\"].resetFields();\n              this.queryHasbindMobile();\n            } else {\n              this.$message({\n                message: response.message,\n                type: \"error\"\n              });\n            }\n          });\n        } else {\n          console.log(\"error submit!!\");\n          return false;\n        }\n      });\n    },\n    submitForm(formName) {\n      this.$refs[formName].validate(valid => {\n        if (valid) {\n          const loadingObj = this.$loading({\n            lock: true,\n            text: \"提交中...\",\n            spinner: \"el-icon-loading\",\n            background: \"rgba(0, 0, 0, 0.7)\",\n            target: document.querySelector(\".submit-test-dialog\")\n          });\n          let formData = this.ruleForm2;\n          let data = {\n            mobile: formData.phone,\n            pwd: formData.pass,\n            verificationCode: formData.code\n          };\n          this.$post(\"/sso/bindMobile.do\", data).then(response => {\n            loadingObj.close();\n            if (response.code == \"5000\") {\n              this.$message({\n                message: \"绑定成功!\",\n                type: \"success\"\n              });\n              this.count = 60;\n              clearInterval(this.t);\n              this.$refs[\"ruleForm2\"].resetFields();\n              this.queryHasbindMobile();\n            } else {\n              this.$message({\n                message: response.message,\n                type: \"error\"\n              });\n            }\n          });\n        } else {\n          console.log(\"error submit!!\");\n          return false;\n        }\n      });\n    }\n  }\n};\n</script>\n\n<style scoped lang=\"less\">\n.setting {\n  .setting-con {\n    padding: 40px 50px 80px 50px;\n    .changePassword {\n      height: 600px;\n      .tit {\n        margin-bottom: 30px;\n      }\n    }\n  }\n}\n</style>\n<style>\n.setting .el-input__inner,\n.setting .el-input {\n  width: 300px;\n}\n.setting .yzm .el-input__inner {\n  width: 190px;\n}\n.setting .yzm .el-input {\n  width: 190px;\n}\n.setting .yzm .el-button {\n  width: 100px;\n}\n.setting .apply.el-button {\n  width: 300px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/studentCommon/mine/setting.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"setting bf\"},[_c('div',{staticClass:\"setting-con bx\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],staticClass:\"changePassword\"},[_c('p',{staticClass:\"tit ft18 col39a\",staticStyle:{\"color\":\"#ff8a00\"}},[_vm._v(\"修改密码\")]),_vm._v(\" \"),_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm,\"status-icon\":\"\",\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"原密码\",\"prop\":\"oldpaw\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"clearable\":\"\",\"auto-complete\":\"off\"},model:{value:(_vm.ruleForm.oldpaw),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"oldpaw\", $$v)},expression:\"ruleForm.oldpaw\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"paw\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"clearable\":\"\",\"auto-complete\":\"off\"},model:{value:(_vm.ruleForm.paw),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"paw\", $$v)},expression:\"ruleForm.paw\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"确认密码\",\"prop\":\"checkPaw\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"clearable\":\"\",\"auto-complete\":\"off\"},model:{value:(_vm.ruleForm.checkPaw),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"checkPaw\", $$v)},expression:\"ruleForm.checkPaw\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{staticClass:\"apply\",staticStyle:{\"background-color\":\"#ff8a00\",\"color\":\"#fff\",\"border\":\"none\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitFormpas('ruleForm')}}},[_vm._v(\"确定\")])],1)],1),_vm._v(\" \"),_c('el-form',{ref:\"ruleForm1\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm1,\"status-icon\":\"\",\"rules\":_vm.rules1,\"label-width\":\"100px\"}},[_c('p',{staticClass:\"tit ft18 col39a\",staticStyle:{\"margin-top\":\"50px\",\"color\":\"#f25c29\"}},[_vm._v(_vm._s(_vm.text))]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"原手机号码\",\"prop\":\"phone\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"clearable\":\"\",\"maxlength\":\"11\",\"auto-complete\":\"off\"},on:{\"input\":function (e){ return _vm.ruleForm1.phone=_vm.validNumber(e); }},model:{value:(_vm.ruleForm1.phone),callback:function ($$v) {_vm.$set(_vm.ruleForm1, \"phone\", $$v)},expression:\"ruleForm1.phone\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"yzm\",attrs:{\"label\":\"输入验证码\",\"prop\":\"code\"}},[_c('el-input',{attrs:{\"maxlength\":\"6\",\"clearable\":\"\",\"placeholder\":\"验证码\"},on:{\"input\":function (e){ return _vm.ruleForm1.code=_vm.validNumber(e); }},model:{value:(_vm.ruleForm1.code),callback:function ($$v) {_vm.$set(_vm.ruleForm1, \"code\", $$v)},expression:\"ruleForm1.code\"}}),_vm._v(\" \"),_c('el-button',{staticStyle:{\"background-color\":\"#ff8a00\",\"color\":\"#fff\",\"border\":\"none\"},attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.getCode1('phone')}}},[_vm._v(_vm._s(_vm.count1==60?'获取验证码':'重新获取('+_vm.count1+')'))])],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{staticClass:\"apply\",staticStyle:{\"background-color\":\"#ff8a00\",\"color\":\"#fff\",\"border\":\"none\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForms('ruleForm1')}}},[_vm._v(\"确定\")])],1)],1)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showt),expression:\"showt\"}],staticClass:\"changePassword\"},[_c('p',{staticClass:\"tit ft18 col39a\",staticStyle:{\"color\":\"#ff8a00\"}},[_vm._v(\"绑定手机号\")]),_vm._v(\" \"),_c('el-form',{ref:\"ruleForm2\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm2,\"status-icon\":\"\",\"rules\":_vm.rules2,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"新手机号码\",\"prop\":\"phone\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"clearable\":\"\",\"maxlength\":\"11\"},on:{\"input\":function (e){ return _vm.ruleForm2.phone=_vm.validNumber(e); }},model:{value:(_vm.ruleForm2.phone),callback:function ($$v) {_vm.$set(_vm.ruleForm2, \"phone\", $$v)},expression:\"ruleForm2.phone\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"yzm\",attrs:{\"label\":\"输入验证码\",\"prop\":\"code\"}},[_c('el-input',{attrs:{\"maxlength\":\"6\",\"clearable\":\"\",\"placeholder\":\"验证码\"},on:{\"input\":function (e){ return _vm.ruleForm2.code=_vm.validNumber(e); }},model:{value:(_vm.ruleForm2.code),callback:function ($$v) {_vm.$set(_vm.ruleForm2, \"code\", $$v)},expression:\"ruleForm2.code\"}}),_vm._v(\" \"),_c('el-button',{staticStyle:{\"border\":\"0\",\"background-colof\":\"#ff8a00\",\"color\":\"#fff\"},attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.getCode('phone')}}},[_vm._v(_vm._s(_vm.count==60?'获取验证码':'重新获取('+_vm.count+')'))])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"pass\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"clearable\":\"\",\"auto-complete\":\"off\"},model:{value:(_vm.ruleForm2.pass),callback:function ($$v) {_vm.$set(_vm.ruleForm2, \"pass\", $$v)},expression:\"ruleForm2.pass\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"确认密码\",\"prop\":\"checkPass\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"clearable\":\"\",\"auto-complete\":\"off\"},model:{value:(_vm.ruleForm2.checkPass),callback:function ($$v) {_vm.$set(_vm.ruleForm2, \"checkPass\", $$v)},expression:\"ruleForm2.checkPass\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{staticClass:\"apply\",staticStyle:{\"background-color\":\"#ff8a00\",\"color\":\"#fff\",\"border\":\"none\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('ruleForm2')}}},[_vm._v(\"确定\")])],1)],1)],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-448975fa\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/studentCommon/mine/setting.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-448975fa\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":54}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./setting.vue\")\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-448975fa\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":54}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./setting.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./setting.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./setting.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-448975fa\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./setting.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-448975fa\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/studentCommon/mine/setting.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}